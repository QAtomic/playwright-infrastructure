# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: API : Users >> Users Schema Validation
- Location: C:\Users\Drew\Documents\VScode-workspace\playwright-infrastructure\test\api\tests\users.spec.ts:10:5

# Error details

```
Error: expect(received).toBeTruthy()

Received: false
    at schemaValidator (C:\Users\Drew\Documents\VScode-workspace\playwright-infrastructure\test\api\utils\schemaChecker.ts:21:38)
    at C:\Users\Drew\Documents\VScode-workspace\playwright-infrastructure\test\api\tests\users.spec.ts:13:9
```

# Test source

```ts
   1 | import { APIRequestContext, expect } from '@playwright/test';
   2 | import { Ajv } from 'ajv';
   3 |
   4 | export async function schemaValidator(request: APIRequestContext, url: string, schema: {}) {
   5 |     const response = await request.get(url);
   6 |     
   7 |     expect(response.status()).toBe(200);
   8 |     
   9 |     const responseBody = JSON.parse(await response.text());
  10 |     
  11 |     console.log(responseBody);
  12 |     
  13 |     console.log(schema);
  14 |     
  15 |     const ajv = new Ajv();
  16 |     
  17 |     const ajvCompile = ajv.compile(schema);
  18 |     
  19 |     console.log("ajv result : " + ajvCompile(responseBody));
  20 |     
> 21 |     expect(ajvCompile(responseBody)).toBeTruthy();
     |                                      ^ Error: expect(received).toBeTruthy()
  22 | }
```